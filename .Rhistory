dplyr::filter(!is.na(value)) %>%
ggplot2::ggplot(ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 1, page = page_num) +
ggplot2::theme_bw()
}
for(page_num in (1:num_pages)){
long_dataframe %>%
dplyr::mutate(m = as.factor(m)) %>%
dplyr::filter(!is.na(value)) %>%
ggplot2::ggplot(ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
}
for(page_num in (1:num_pages)){
long_dataframe %>%
dplyr::mutate(m = as.factor(m)) %>%
dplyr::filter(!is.na(value)) %>%
ggplot2::ggplot(ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
}
for(page_num in (1:num_pages)){
print(page_num)
long_dataframe %>%
dplyr::mutate(m = as.factor(m)) %>%
dplyr::filter(!is.na(value)) %>%
ggplot2::ggplot(ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
}
for(page_num in seq_len(num_pages)){
long_dataframe %>%
dplyr::mutate(m = as.factor(m)) %>%
dplyr::filter(!is.na(value)) %>%
ggplot2::ggplot(ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
}
load_all()
build(vignettes = FALSE)
plot(misl_imp)
plot(misl_imp)
for(page_num in seq_len(num_pages)){
long_dataframe %>%
dplyr::mutate(m = as.factor(m)) %>%
dplyr::filter(!is.na(value)) %>%
ggplot2::ggplot(ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
}
facet_wrap_paginate
long_dataframe %>%
dplyr::mutate(m = as.factor(m)) %>%
dplyr::filter(!is.na(value)) %>%
ggplot2::ggplot(ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
for(page_num in seq_len(num_pages)){
print(page_num)
long_dataframe %>%
dplyr::mutate(m = as.factor(m)) %>%
dplyr::filter(!is.na(value)) %>%
ggplot2::ggplot(ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
}
seq_len(num_pages)
for(page_num in seq_len(num_pages)){
print(page_num)
ggplot2::ggplot(long_dataframe) +
ggplot2::ggplot(ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
}
long_dataframe <- long_dataframe %>%
dplyr::mutate(m = as.factor(m)) %>%
dplyr::filter(!is.na(value))
for(page_num in seq_len(num_pages)){
print(page_num)
ggplot2::ggplot(long_dataframe) +
ggplot2::ggplot(ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
}
for(page_num in seq_len(num_pages)){
print(page_num)
ggplot2::ggplot(ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
}
for(page_num in seq_len(num_pages)){
print(page_num)
ggplot2::ggplot(long_dataframe, ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
}
for(page_num in seq_len(num_pages)){
ggplot2::ggplot(long_dataframe, ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
}
long_dataframe <- long_dataframe %>%
dplyr::mutate(m = as.factor(m)) %>%
dplyr::filter(!is.na(value))
for(page_num in seq_len(num_pages)){
ggplot2::ggplot(long_dataframe, ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
}
for(page_num in seq_len(num_pages)){
ggplot2::ggplot(long_dataframe, ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
}
for(page_num in seq_len(num_pages)){
ggplot2::ggplot(long_dataframe, ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
}
long_dataframe <- long_dataframe %>%
dplyr::mutate(m = as.factor(m)) %>%
dplyr::filter(!is.na(value))
long_dataframe <- data.frame()
for(mdatasets in imputations){
long_dataframe <- rbind(long_dataframe, mdatasets$trace)
}
num_pages <- ceiling(length(unique(long_dataframe$variable)) / 3)
long_dataframe <- long_dataframe %>%
dplyr::mutate(m = as.factor(m)) %>%
dplyr::filter(!is.na(value))
for(page_num in seq_len(num_pages)){
ggplot2::ggplot(long_dataframe, ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
}
for(page_num in seq_len(num_pages)){
ggplot2::ggplot(long_dataframe, ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw() %>%
print()
}
for(page_num in seq_len(num_pages)){
print(
ggplot2::ggplot(long_dataframe, ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw())
}
for(page_num in seq_len(num_pages)){
print(
long_dataframe %>%
dplyr::mutate(m = as.factor(m)) %>%
dplyr::filter(!is.na(value)) %>%
ggplot2::ggplot(ggplot2::aes(x = iteration, y = value, group = m, color= m)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggforce::facet_wrap_paginate(variable ~ statistic , scales = "free", ncol = 2, nrow = 3, page = page_num) +
ggplot2::theme_bw()
)
}
load_all()
plot(misl_imp)
build(vignettes = FALSE)
load_all()
plot(misl_imp)
build(vignettes = FALSE)
build_readme()
use_package("ggforce")
build(vignettes = FALSE)
build_all()
load_all()
build_readme()
rm(impute_mode)
rm("impute_mode")
document()
build_all()
build(vignettes = FALSE)
load_all()
build_readme()
build_all()
build(vignettes = FALSE)
load_all()
misl_modeling <- lapply(misl_imp, function(y){
stats::lm(Whole_Weight ~ Sex + Length + Diameter + Height + Older_12, data = y$datasets)
})
summary(mice::pool(misl_modeling), conf.int = TRUE)
plot(misl_imp)
colSums(is.na(abalone))
nrow(abalone)
misl_modeling
misl_imp_1 <- misl(abalone, maxit = 5, m = 5, quiet = TRUE,
con_method = c("Lrnr_glm", "Lrnr_mean"),
bin_method = c("Lrnr_glm", "Lrnr_mean"),,
cat_method = c("Lrnr_independent_binomial", "Lrnr_mean"))
misl_imp_1 <- misl(abalone, maxit = 2, m = 5, quiet = FALSE,
con_method = c("Lrnr_glm", "Lrnr_mean"),
bin_method = c("Lrnr_glm", "Lrnr_mean"),
cat_method = c("Lrnr_independent_binomial", "Lrnr_mean"))
misl_imp_2 <- misl(abalone, maxit = 2, m = 5, quiet = FALSE,
con_method = c("Lrnr_glm", "Lrnr_mean"),
bin_method = c("Lrnr_glm", "Lrnr_mean"),
cat_method = c("Lrnr_independent_binomial", "Lrnr_mean"))
table(misl_imp_1[[1]]$datasets$Sex)
table(misl_imp_2[[1]]$datasets$Sex)
library(data.table)
library(tidyverse)
library(usethis)
library(mice)
set.seed(1234)
# load data set and take a peek
abalone <- load(file = "data-raw/abalone.Rdata")
# add the column names
colnames(abalone) <- c("Sex", "Length", "Diameter", "Height", "Whole_Weight", "Shuck_Weight", "Viscera_Weight", "Shell_Weight", "Rings")
abalone <- abalone %>%
dplyr::mutate(Age = Rings + 1.5,
Sex = as.factor(Sex),
Older_12 = as.integer(Age > 12)
) %>%
dplyr::select(-c(Rings, Age, Shuck_Weight, Viscera_Weight, Shell_Weight))
mypatterns <- expand.grid(Sex = 0:1, Length = 0:1, Diameter = 0:1, Height = 0:1, Whole_Weight_Pred = 0:1, Older_12 = 0:1)
mypatterns <- mypatterns[sample(1:nrow(mypatterns), replace = FALSE, 8),]
mypatterns <- mypatterns[rowSums(mypatterns) != 0,]
amputed_abalone <- mice::ampute(abalone, mech = "MCAR", prop = .50)
# load data set and take a peek
abalone <- load(file = "data-raw/abalone.Rdata")
colSums(is.na(abalone))
abalone
abalone <- load(file = "data-raw/abalone.Rdata")
abalone
pwd
getwd()
# load data set and take a peek
abalone <- load(file = "data-raw/abalone.rdata")
abalone
load("~/Documents/Programming/misl/data-raw/abalone.rdata")
abalone
load("/Users/thomascarpenito/Documents/Programming/misl/data-raw/abalone.rdata")
load("/Users/thomascarpenito/Documents/Programming/misl/data-raw/abalone.rdata")
abalone <- load(file = "data-raw/abalone.rdata")
load("/Users/thomascarpenito/Documents/Programming/misl/data-raw/abalone.rdata")
# add the column names
colnames(abalone) <- c("Sex", "Length", "Diameter", "Height", "Whole_Weight", "Shuck_Weight", "Viscera_Weight", "Shell_Weight", "Rings")
abalone <- abalone %>%
dplyr::mutate(Age = Rings + 1.5,
Sex = as.factor(Sex),
Older_12 = as.integer(Age > 12)
) %>%
dplyr::select(-c(Rings, Age, Shuck_Weight, Viscera_Weight, Shell_Weight))
library(data.table)
library(tidyverse)
library(usethis)
library(mice)
set.seed(1234)
# add the column names
colnames(abalone) <- c("Sex", "Length", "Diameter", "Height", "Whole_Weight", "Shuck_Weight", "Viscera_Weight", "Shell_Weight", "Rings")
abalone <- abalone %>%
dplyr::mutate(Age = Rings + 1.5,
Sex = as.factor(Sex),
Older_12 = as.integer(Age > 12)
) %>%
dplyr::select(-c(Rings, Age, Shuck_Weight, Viscera_Weight, Shell_Weight))
load("/Users/thomascarpenito/Documents/Programming/misl/data-raw/abalone.rdata")
library(data.table)
library(tidyverse)
library(usethis)
library(mice)
set.seed(1234)
# add the column names
colnames(abalone) <- c("Sex", "Length", "Diameter", "Height", "Whole_Weight", "Shuck_Weight", "Viscera_Weight", "Shell_Weight", "Rings")
abalone <- abalone %>%
dplyr::mutate(Age = Rings + 1.5,
Sex = as.factor(Sex),
Older_12 = as.integer(Age > 12)
) %>%
dplyr::select(-c(Rings, Age, Shuck_Weight, Viscera_Weight, Shell_Weight))
mypatterns <- expand.grid(Sex = 0:1, Length = 0:1, Diameter = 0:1, Height = 0:1, Whole_Weight_Pred = 0:1, Older_12 = 0:1)
mypatterns <- mypatterns[sample(1:nrow(mypatterns), replace = FALSE, 8),]
mypatterns <- mypatterns[rowSums(mypatterns) != 0,]
amputed_abalone <- mice::ampute(abalone, mech = "MCAR", prop = .50)
colSums(is.na(amputed_abalone))
abalone <- as_tibble(amputed_abalone$amp)
colsums(is.na(abalone))
colSums(is.na(abalone))
nrow(abalone)
amputed_abalone <- mice::ampute(abalone, mech = "MCAR", prop = .75)
load("/Users/thomascarpenito/Documents/Programming/misl/data-raw/abalone.rdata")
# add the column names
colnames(abalone) <- c("Sex", "Length", "Diameter", "Height", "Whole_Weight", "Shuck_Weight", "Viscera_Weight", "Shell_Weight", "Rings")
abalone <- abalone %>%
dplyr::mutate(Age = Rings + 1.5,
Sex = as.factor(Sex),
Older_12 = as.integer(Age > 12)
) %>%
dplyr::select(-c(Rings, Age, Shuck_Weight, Viscera_Weight, Shell_Weight))
mypatterns <- expand.grid(Sex = 0:1, Length = 0:1, Diameter = 0:1, Height = 0:1, Whole_Weight_Pred = 0:1, Older_12 = 0:1)
mypatterns <- mypatterns[sample(1:nrow(mypatterns), replace = FALSE, 8),]
mypatterns <- mypatterns[rowSums(mypatterns) != 0,]
amputed_abalone <- mice::ampute(abalone, mech = "MCAR", prop = .75)
abalone <- as_tibble(amputed_abalone$amp)
colSums(is.na(abalone))
colSums(is.na(abalone)) / nrow(abalone)
?ampoute
?ampute
load("/Users/thomascarpenito/Documents/Programming/misl/data-raw/abalone.rdata")
# add the column names
colnames(abalone) <- c("Sex", "Length", "Diameter", "Height", "Whole_Weight", "Shuck_Weight", "Viscera_Weight", "Shell_Weight", "Rings")
abalone <- abalone %>%
dplyr::mutate(Age = Rings + 1.5,
Sex = as.factor(Sex),
Older_12 = as.integer(Age > 12)
) %>%
dplyr::select(-c(Rings, Age, Shuck_Weight, Viscera_Weight, Shell_Weight))
mypatterns <- expand.grid(Sex = 0:1, Length = 0:1, Diameter = 0:1, Height = 0:1, Whole_Weight_Pred = 0:1, Older_12 = 0:1)
mypatterns <- mypatterns[sample(1:nrow(mypatterns), replace = FALSE, 8),]
mypatterns <- mypatterns[rowSums(mypatterns) != 0,]
amputed_abalone <- mice::ampute(abalone,
mech = "MAR",
prop = .50)
abalone <- as_tibble(amputed_abalone$amp)
str(abalone)
colSums(is.na(abalone))
abalone2 <- abalone %>%
mutate(
Sex = as.factor(Sex)
)
str(abalone2)
load("/Users/thomascarpenito/Documents/Programming/misl/data-raw/abalone.rdata")
# add the column names
colnames(abalone) <- c("Sex", "Length", "Diameter", "Height", "Whole_Weight", "Shuck_Weight", "Viscera_Weight", "Shell_Weight", "Rings")
str(abalone$Sex)
str(abalone)
mypatterns <- expand.grid(Sex = 1, Length = 1, Diameter = 1, Height = 1, Whole_Weight_Pred = 0, Older_12 = 1)
amputed_abalone <- mice::ampute(abalone,
mech = "MAR",
prop = .50)
abalone <- as_tibble(amputed_abalone$amp)
colSums(is.na(abalone))
load("/Users/thomascarpenito/Documents/Programming/misl/data-raw/abalone.rdata")
# add the column names
colnames(abalone) <- c("Sex", "Length", "Diameter", "Height", "Whole_Weight", "Shuck_Weight", "Viscera_Weight", "Shell_Weight", "Rings")
abalone <- abalone %>%
dplyr::mutate(Age = Rings + 1.5,
Sex = as.factor(Sex),
Older_12 = as.integer(Age > 12)
) %>%
dplyr::select(-c(Rings, Age, Shuck_Weight, Viscera_Weight, Shell_Weight))
colSums(is.na(abalone))
mypatterns <- expand.grid(Sex = 1, Length = 1, Diameter = 1, Height = 1, Whole_Weight_Pred = 0, Older_12 = 1)
amputed_abalone <- mice::ampute(abalone,
mech = "MAR",
prop = .50)
abalone <- as_tibble(amputed_abalone$amp)
colSums(is.na(abalone))
load("/Users/thomascarpenito/Documents/Programming/misl/data-raw/abalone.rdata")
# add the column names
colnames(abalone) <- c("Sex", "Length", "Diameter", "Height", "Whole_Weight", "Shuck_Weight", "Viscera_Weight", "Shell_Weight", "Rings")
abalone <- abalone %>%
dplyr::mutate(Age = Rings + 1.5,
Sex = as.factor(Sex),
Older_12 = as.integer(Age > 12)
) %>%
dplyr::select(-c(Rings, Age, Shuck_Weight, Viscera_Weight, Shell_Weight))
mypatterns <- expand.grid(Sex = 1, Length = 1, Diameter = 1, Height = 1, Whole_Weight_Pred = 0, Older_12 = 1)
amputed_abalone <- mice::ampute(abalone,
mech = "MAR",
patterns = mypatterns,
prop = .50)
colSums(is.na(amputed_abalone))
abalone <- as_tibble(amputed_abalone$amp)
colSums(is.na(abalone))
load("/Users/thomascarpenito/Documents/Programming/misl/data-raw/abalone.rdata")
# add the column names
colnames(abalone) <- c("Sex", "Length", "Diameter", "Height", "Whole_Weight", "Shuck_Weight", "Viscera_Weight", "Shell_Weight", "Rings")
abalone <- abalone %>%
dplyr::mutate(Age = Rings + 1.5,
Sex = as.factor(Sex),
Older_12 = as.integer(Age > 12)
) %>%
dplyr::select(-c(Rings, Age, Shuck_Weight, Viscera_Weight, Shell_Weight))
mypatterns <- expand.grid(Sex = 1, Length = 0:1, Diameter = 0:1, Height = 0:1, Whole_Weight_Pred = 0:1, Older_12 = 0:1)
mypatterns <- mypatterns[sample(1:nrow(mypatterns), replace = FALSE, 8),]
mypatterns <- mypatterns[rowSums(mypatterns) != 0,]
amputed_abalone <- mice::ampute(abalone,
mech = "MAR",
patterns = mypatterns,
prop = .50)
abalone <- as_tibble(amputed_abalone$amp)
colSums(is.na(abalone))
load("/Users/thomascarpenito/Documents/Programming/misl/data-raw/abalone.rdata")
# add the column names
colnames(abalone) <- c("Sex", "Length", "Diameter", "Height", "Whole_Weight", "Shuck_Weight", "Viscera_Weight", "Shell_Weight", "Rings")
abalone <- abalone %>%
dplyr::mutate(Age = Rings + 1.5,
Sex = as.factor(Sex),
Older_12 = as.integer(Age > 12)
) %>%
dplyr::select(-c(Rings, Age, Shuck_Weight, Viscera_Weight, Shell_Weight))
str(abalone)
mypatterns <- expand.grid(Sex = 1, Length = 0:1, Diameter = 0:1, Height = 0:1, Whole_Weight_Pred = 0:1, Older_12 = 0:1)
mypatterns <- mypatterns[sample(1:nrow(mypatterns), replace = FALSE, 8),]
mypatterns <- mypatterns[rowSums(mypatterns) != 0,]
amputed_abalone <- mice::ampute(abalone,
mech = "MAR",
patterns = mypatterns,
prop = .50)
abalone2 <- as_tibble(amputed_abalone$amp)
View(abalone2)
View(abalone)
abalone2 <- abalone2 %>%
mutate(
Sex = as.factor(Sex, levels("F", "I", "M"))
)
abalone2 <- abalone2 %>%
mutate(
Sex = factor(Sex, levels("F", "I", "M"))
)
abalone2 <- abalone2 %>%
mutate(
Sex = factor(Sex, levels = c("F", "I", "M"))
)
str()
str(abalone2)
abalone2 <- as_tibble(amputed_abalone$amp)
str(abalone2)
abalone2 <- abalone2 %>%
mutate(
Sex = factor(Sex, levels = c("F", "I", "M"))
)
View(abalone2)
abalone2 <- as_tibble(amputed_abalone$amp)
str(abalone2)
abalone2 <- as_tibble(amputed_abalone$amp)
abalone2 <- abalone2 %>%
mutate(
Sex = factor(Sex, labels = c("F", "I", "M"), levels = c(1,2,3))
)
load("/Users/thomascarpenito/Documents/Programming/misl/data-raw/abalone.rdata")
library(data.table)
library(tidyverse)
library(usethis)
library(mice)
set.seed(1234)
# add the column names
colnames(abalone) <- c("Sex", "Length", "Diameter", "Height", "Whole_Weight", "Shuck_Weight", "Viscera_Weight", "Shell_Weight", "Rings")
abalone <- abalone %>%
dplyr::mutate(Age = Rings + 1.5,
Sex = as.factor(Sex),
Older_12 = as.integer(Age > 12)
) %>%
dplyr::select(-c(Rings, Age, Shuck_Weight, Viscera_Weight, Shell_Weight))
mypatterns <- expand.grid(Sex = 0:1, Length = 0:1, Diameter = 0:1, Height = 0:1, Whole_Weight_Pred = 0:1, Older_12 = 0:1)
mypatterns <- mypatterns[sample(1:nrow(mypatterns), replace = FALSE, 8),]
mypatterns <- mypatterns[rowSums(mypatterns) != 0,]
amputed_abalone <- mice::ampute(abalone,
mech = "MAR",
patterns = mypatterns,
prop = .50)
abalone2 <- as_tibble(amputed_abalone$amp)
abalone2 <- abalone2 %>%
mutate(
Sex = factor(Sex, labels = c("F", "I", "M"), levels = c(1,2,3))
)
abalone <- as_tibble(amputed_abalone$amp)
abalone <- abalone %>%
mutate(
Sex = factor(Sex, labels = c("F", "I", "M"), levels = c(1,2,3))
)
str(abalone)
colSums(is.na(abalone))
colSums(is.na(abalone))/nrow(abalone)
write_csv(abalone, "data-raw/abalone.csv")
usethis::use_data(abalone, overwrite = TRUE, compress = 'xz')
load_all()
build(vignettes = FALSE)
build_readme()
