---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# misl <a href='/'><img src='misl_hex.png' align="right" height="139" /></a>

[![License: GPL v3](https://img.shields.io/badge/License-GPL%20v3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0)

## Multiple Imputation by Super Learning 

The goal of MISL (Multiple Imputation by Super Learning) is to create multiply imputed datasets using the super learning framework. This package builds heavily off of the `sl3` and `mice` packages.

This method has been submitted for publication and is currently in review.

## Installation

The MISL algorithm is not yet available on CRAN; instead, please use the development version available here on Github. To download the development version use:

```{r, eval = FALSE}
install.packages("devtools")
devtools::install_github("carpenitoThomas/misl")
```
## Example

Here's an example with abalone data in which we use `misl()` imputation and then pool the results:

```{r}
library(misl)
set.seed(123)

misl_imp <- misl(abalone, maxit = 2, m = 2, quiet = TRUE,
                  con_method = c("Lrnr_glm_fast", "Lrnr_mean"),
                  bin_method = c("Lrnr_mean", "Lrnr_glm_fast"),
                  cat_method = c("Lrnr_independent_binomial", "Lrnr_mean"))

misl_modeling <- lapply(misl_imp, function(y){
  stats::lm(Whole_Weight ~ Sex + Length + Diameter + Height + Older_12, data = y$datasets)
})

summary(mice::pool(misl_modeling), conf.int = TRUE)
```

We can also look at the traceplot of the imputations as well:

```{r}
misl::trace_plot(misl_imp)
```

